# ad_desk
## Доска объявлений на Flask с использованием базы данных MongoDB и кеширования Redis (контейнеры в Docker)

#### Как запустить проект локально

* склонировать этот репозиторий ```git clone https://github.com/YuriyShashurin/ad_desk.git```
* перейти в папку с ним ```cd ad_desk```
* создать и активировать виртуальное окружение командами в командной строке ```python3 -m venv venv``` и ```venv/Scripts/activate.bat```
* установить зависимости ```pip install -r requirements.txt```
* ввести в командной строке ```set FLASK_APP=asd.py```
* удостоверяемся, что Mongo и Redis установлены локально или используем контейнеры Docker для них
* запустить приложение в командной строке ```flask run```

#### Как запустить проект в Docker
* Повторяем первые два пункта из локального запуска
* Установить docker и docker-compose согласно вашей ОС согласно инструкциям.(Docker - https://docs.docker.com/get-docker/ Docker-Compose - https://docs.docker.com/compose/install/)
* Собрать образы командой в консоли ```docker-compose build```
* Запустить образы командой в консоли ```docker-compose up```
* Открыть в браузере http://127.0.0.1:5001/

##### Страницы в контейнерах: 
* Главная страница, отображаются все созданные объявления с краткой информацией, а также тегами и количеством комментариев - http://127.0.0.1:5001/
* Создание объявления - http://127.0.0.1:5001/create
* Объявление подробно, добавление тегов и комментариев к объявлению в соотвествующих формах на странице - http://127.0.0.1:5001/list/<_id>
* Статистика комментариев и тегов по каждому объявлению - http://127.0.0.1:5001/stats
* Статистика комментариев и тегов по выбранному объявлению, работает с главной страницы по клику на соотвестующую кнопку - http://127.0.0.1:5001/stats/<_id>
* Удаление выбранного объявления, работает с главной страницы по клику на соотвестующую кнопку - http://127.0.0.1:5001/delete/<_id>

